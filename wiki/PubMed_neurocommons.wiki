#summary Pubmed queries from neurocommons KB

== Search for the NCBI gene ID using a gene symbol ==
{{{
select *
from <http://purl.org/science/graph/ncbi/gene-info>
where {
 ?gene <http://purl.org/science/owl/sciencecommons/ggp_has_symbol> ?symbol .
 filter regex (?symbol, "CG18350")
}
}}}


== Search for publications about a specific ncbi gene ==
{{{
select distinct ?pubID
from <http://purl.org/science/graph/ncbi/gene-pubmed>
where 
 {
   <http://purl.org/commons/record/ncbi_gene/3772180> <http://purl.org/science/owl/sciencecommons/describes_gene_or_gene_product_mentioned_by> ?pubID
 }
}}}


== Search for other gene names associated with a publication ==

{{{
select distinct ?gene
from <http://purl.org/science/graph/ncbi/gene-pubmed>
where 
 {
   ?gene <http://purl.org/science/owl/sciencecommons/describes_gene_or_gene_product_mentioned_by> <http://purl.org/science/article/pmid/7789765>
 }
}}}

== Search for Mesh terms associated with a publication ==
{{{
PREFIX sc: <http://purl.org/science/owl/sciencecommons/>
prefix skos: <http://www.w3.org/2004/02/skos/core#>

select distinct *
from <http://purl.org/science/graph/ncbi/goa>
from <http://purl.org/science/graph/mesh/mesh-skos>
from <http://purl.org/science/graph/mesh/qualified-headings>
from <http://purl.org/science/graph/medline/subject-headings>
from <http://purl.org/science/graph/medline/titles-years>
from <http://purl.org/science/graph/ncbi/gene-pubmed>
where 
 {
  <http://purl.org/commons/article/pmid/11665278>  ?p ?term. 
    { ?term skos:prefLabel ?name. }
      union
    { ?term skos:narrower ?uterm. 
      ?uterm skos:prefLabel ?name. 
      ?term sc:is_qualified_by ?qterm.
      ?qterm skos:prefLabel ?qualifier
    }
}
}}}

== Search for bibliographic information associated with a publication ==
{{{
PREFIX dc: <http://purl.org/dc/elements/1.1/>
PREFIX sc: <http://purl.org/science/owl/sciencecommons/>
prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>
prefix owl: <http://www.w3.org/2002/07/owl#>

select *
from <http://purl.org/science/graph/ncbi/goa>
from <http://purl.org/science/graph/mesh/mesh-skos>
from <http://purl.org/science/graph/mesh/qualified-headings>
from <http://purl.org/science/graph/medline/subject-headings>
from <http://purl.org/science/graph/medline/titles-years>
from <http://purl.org/science/graph/ncbi/gene-pubmed>
where 
 {
  <http://purl.org/commons/article/pmid/11665278>  sc:identified_by_pmid ?pmid .
  optional {?pub dc:date ?pubdate } .
  optional {?pub dc:date ?title} .
  optional {?pub ?p ?o} 
 }
}}}

== The big query: query for publications about a gene and information about these publications ==
{{{
PREFIX sc: <http://purl.org/science/owl/sciencecommons/>

select distinct ?pubID ?pubdate ?title ?mesh ?name ?gene
from <http://purl.org/science/graph/ncbi/gene-pubmed>
from <http://purl.org/science/graph/ncbi/goa>
from <http://purl.org/science/graph/mesh/mesh-skos>
from <http://purl.org/science/graph/mesh/qualified-headings>
from <http://purl.org/science/graph/medline/subject-headings>
from <http://purl.org/science/graph/medline/titles-years>
where 
 {
   <http://purl.org/commons/record/ncbi_gene/3772180> <http://purl.org/science/owl/sciencecommons/describes_gene_or_gene_product_mentioned_by> ?pubID .
   ?gene <http://purl.org/science/owl/sciencecommons/describes_gene_or_gene_product_mentioned_by> ?pubID .
   optional {?pub dc:date ?pubdate } .
   optional {?pub dc:date ?title} .
   optional
   {?pubID ?p ?mesh . 
    { ?mesh skos:prefLabel ?name. }
      union
    { ?mesh skos:narrower ?uterm. 
      ?uterm skos:prefLabel ?name. 
      ?mesh sc:is_qualified_by ?qterm.
      ?qterm skos:prefLabel ?qualifier
    }
    } 
 }
}}}

== A simpler version of the big question for everything about a publication ==
{{{
PREFIX sc: <http://purl.org/science/owl/sciencecommons/>
select ?gene count(distinct ?gene) ?pubID
from <http://purl.org/science/graph/ncbi/gene-pubmed>
from <http://purl.org/science/graph/ncbi/goa>
from <http://purl.org/science/graph/mesh/mesh-skos>
from <http://purl.org/science/graph/mesh/qualified-headings>
from <http://purl.org/science/graph/medline/subject-headings>
from <http://purl.org/science/graph/medline/titles-years>
from <http://purl.org/science/graph/ncbi/gene-info>
where 
 {
   ?gene sc:ggp_from_species_described_by <http://purl.org/commons/record/ncbi_taxonomy/7227> .
   ?gene sc:describes_gene_or_gene_product_mentioned_by ?pubID .
 }
}}}

== Search for publication records about Drosophila melanogaster genes ==
{{{
PREFIX sc: <http://purl.org/science/owl/sciencecommons/>
select ?gene count(distinct ?gene) ?pubID
from <http://purl.org/science/graph/ncbi/gene-pubmed>
from <http://purl.org/science/graph/ncbi/goa>
from <http://purl.org/science/graph/mesh/mesh-skos>
from <http://purl.org/science/graph/mesh/qualified-headings>
from <http://purl.org/science/graph/medline/subject-headings>
from <http://purl.org/science/graph/medline/titles-years>
from <http://purl.org/science/graph/ncbi/gene-info>
where 
 {
   ?gene sc:ggp_from_species_described_by <http://purl.org/commons/record/ncbi_taxonomy/7227> .
   ?gene sc:describes_gene_or_gene_product_mentioned_by ?pubID .
 }
}}}